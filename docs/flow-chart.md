# 플로우차트


### 상품 주문/결제

```mermaid
flowchart TD

    A[상품 조회] --> B[상품 및 수량 선택] 
    B --> C[주문 요청]
    C --> D[주문 정보 유효성 검사] 
    D --> E{"주문 정보 유효한가?"}
    E -- 아니오 --> F[주문 요청 실패]
    E --  예 --> G[상품 재고 확인] --> H{상품 재고 있는가?}
    H -- 아니오 --> F
    H -- 예 --> I[결제 요청] --> J{잔액이 충분히 있는가?}
    J -- 아니오 --> K[결제 요청 실패]
    J -- 예 --> L[재고 차감 및 잔액 차감]
    L --> M[주문 완료] --> N{주문을 취소하는가?}
    N -- 아니오 --> O[주문 및 결제 완료 반환]
    N -- 예 --> P[주문 취소 요청]
    P --> Q[재고 수량 및 잔액 복구]
    Q --> R[주문 취소 완료]

```

# Description
- 상품 조회 후 상품 및 수량을 선택한다.
- 주문 요청을 하고 주문 정보를 유효성 검사한다.
- 주문 정보가 유효하지 않으면 주문 요청을 실패한다.
- 주문 정보가 유효하면 상품 재고를 확인한다.
- 상품 재고가 없으면 주문 요청을 실패한다.
- 상품 재고가 있으면 결제를 요청한다.
- 잔액이 충분하지 않으면 결제 요청을 실패한다.
- 잔액이 충분하면 상품 재고를 차감하고 잔액을 차감한다.
- 주문을 취소하면 주문 및 결제를 완료한다.
- 주문을 취소하면 주문을 취소하고 재고 수량과 잔액을 복구한다.
- 주문을 취소하면 주문 취소를 완료한다.

# 요구사항 분석

---
## Requirements

- 아래 4가지 API 를 구현합니다.
    - 잔액 충전 / 조회 API
    - 상품 조회 API
    - 주문 / 결제 API
    - 인기 판매 상품 조회 API
- 각 기능 및 제약사항에 대해 단위 테스트를 반드시 하나 이상 작성하도록 합니다.
- 다수의 인스턴스로 어플리케이션이 동작하더라도 기능에 문제가 없도록 작성하도록 합니다.
- 동시성 이슈를 고려하여 구현합니다.
- 재고 관리에 문제 없도록 구현합니다.

---


### 상품 조회

- 상품 id, 분류, 이름, 금액, 수량으로 구성되어있다.
- 조회 시점의 상품별 잔여 수량이 정확해야 한다.
- 결제 완료된 항목의 개수만 수량에서 차감한다.

### 잔액 조회

- 유저id, 잔액으로 구성된다.

### 잔액 충전

- 유저id, 충전금액, 잔액으로 구성된다.
- 충전내역에 기록된다. (유저id, 충전금액, 충전날짜, 잔액)

### 주문

- 유저id, List(상품id, 수량, 금액), 총 주문금액으로 구성된다.
- 주문을 원하는 수량이 상품 수량보다 적어야 주문이 가능하다.

### 결제

- 유저id, 총 주문금액, 잔액으로 구성된다.
- 잔액이 총 주문금액보다 많아야 결제가 가능하다.
- 결제 내역이 기록된다. (유저id, 사용금액, 사용날자, 잔액)
- 결제가 완료되면 상품 수량에서 주문 수량만큼 차감된다.

### 상위 상품 조회

- 최근 3일간 가장 많이 팔린 5개 상품 정보를 제공한다.
- 상품 id, 분류, 이름, 금액, 잔여수량, 누적판매수량으로 구성된다.





## 이후 추가 개발 (보류)
### 상품 등록 

- 상품 id, 분류, 이름, 금액, 수량으로 구성되어있다.
- 등록일자는 등록할 때 현재시간으로 추가된다.

### 상품 수정

- 상품 id, 분류, 이름, 금액, 수량으로 구성되어있다.
- id를 제외한 값을 수정할 수 있다.
- 수정일자는 등록할 때 현재시간으로 추가된다.
- 등록일자는 수정되지 않는다.

### 상품 삭제

- 상품 id로 삭제할 수 있다.

### 충전/사용 내역

- 충전내역의 경우 유저id, 충전금액, 충전날짜, 잔액으로 구성된다.
- 사용내역의 경우 유저id, 사용금액, 사용날자, 잔액으로 구성된다.
- 날짜로 조회 가능하다.